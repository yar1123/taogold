/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 25 16:20
*/
KISSY.add("dom/attr",function(n,d,r,s){function u(l,f){f=B[f]||f;var h=A[f];return h&&h.get?h.get(l,f):l[f]}r=document.documentElement;var z=!r.hasAttribute,w=r.textContent===s?"innerText":"textContent",i=d._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,j=/:|^on/,m=/\r/g,o={},v={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},x=
{tabindex:{get:function(l){var f=l.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):q.test(l.nodeName)||t.test(l.nodeName)&&l.href?0:s}},style:{get:function(l){return l.style.cssText},set:function(l,f){l.style.cssText=f}}},B={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
E={get:function(l,f){return d.prop(l,f)?f.toLowerCase():s},set:function(l,f,h){if(f===false)d.removeAttr(l,h);else{f=B[h]||h;if(f in l)l[f]=true;l.setAttribute(h,h.toLowerCase())}return h}},A={},C={},D={option:{get:function(l){var f=l.attributes.value;return!f||f.specified?l.value:l.text}},select:{get:function(l){var f=l.selectedIndex,h=l.options;l=l.type==="select-one";if(f<0)return null;else if(l)return d.val(h[f]);f=[];l=0;for(var c=h.length;l<c;++l)h[l].selected&&f.push(d.val(h[l]));return f},
set:function(l,f){var h=n.makeArray(f);n.each(l.options,function(c){c.selected=n.inArray(d.val(c),h)});if(!h.length)l.selectedIndex=-1;return h}}};if(z){C={get:function(l,f){var h;return(h=l.getAttributeNode(f))&&h.nodeValue!==""?h.nodeValue:s},set:function(l,f,h){if(l=l.getAttributeNode(h))l.nodeValue=f}};o=B;x.tabIndex=x.tabindex;n.each(["href","src","width","height","colSpan","rowSpan"],function(l){x[l]={get:function(f){f=f.getAttribute(l,2);return f===null?s:f}}});D.button=x.value=C}n.each(["radio",
"checkbox"],function(l){D[l]={get:function(f){return f.getAttribute("value")===null?"on":f.value},set:function(f,h){if(n.isArray(h))return f.checked=n.inArray(d.val(f),h)}}});n.mix(d,{prop:function(l,f,h){if(n.isPlainObject(f))for(var c in f)d.prop(l,c,f[c]);else{l=d.query(l);f=B[f]||f;var e=A[f];if(h!==s)l.each(function(a){if(e&&e.set)e.set(a,h,f);else a[f]=h});else if(l.length)return u(l[0],f)}},hasProp:function(l,f){for(var h=d.query(l),c=0;c<h.length;c++)if(u(h[c],f)!==s)return true;return false},
removeProp:function(l,f){f=B[f]||f;d.query(l).each(function(h){try{h[f]=s;delete h[f]}catch(c){}})},attr:function(l,f,h,c){if(n.isPlainObject(f)){c=h;for(var e in f)d.attr(l,e,f[e],c)}else if(f=n.trim(f)){f=f.toLowerCase();if(c&&v[f])return d[f](l,h);f=o[f]||f;var a;a=k.test(f)?E:j.test(f)?C:x[f];if(h===s){l=d.get(l);if(i(l)){if(l.nodeName.toLowerCase()=="form")a=C;if(a&&a.get)return a.get(l,f);l=l.getAttribute(f);return l===null?s:l}}else d.query(l).each(function(b){if(i(b))a&&a.set?a.set(b,h,f):
b.setAttribute(f,""+h)})}},removeAttr:function(l,f){f=f.toLowerCase();f=o[f]||f;d.query(l).each(function(h){if(i(h)){var c;h.removeAttribute(f);if(k.test(f)&&(c=B[f]||f)in h)h[c]=false}})},hasAttr:z?function(l,f){f=f.toLowerCase();for(var h=d.query(l),c=0;c<h.length;c++){var e=h[c].getAttributeNode(f);if(e&&e.specified)return true}return false}:function(l,f){for(var h=d.query(l),c=0;c<h.length;c++)if(h[c].hasAttribute(f))return true;return false},val:function(l,f){var h,c;if(f===s){var e=d.get(l);
if(e){if((h=D[e.nodeName.toLowerCase()]||D[e.type])&&"get"in h&&(c=h.get(e,"value"))!==s)return c;c=e.value;return typeof c==="string"?c.replace(m,""):n.isNullOrUndefined(c)?"":c}}else d.query(l).each(function(a){if(a.nodeType===1){var b=f;if(n.isNullOrUndefined(b))b="";else if(typeof b==="number")b+="";else if(n.isArray(b))b=n.map(b,function(g){return n.isNullOrUndefined(b)?"":g+""});h=D[a.nodeName.toLowerCase()]||D[a.type];if(!h||!("set"in h)||h.set(a,b,"value")===s)a.value=b}})},text:function(l,
f){if(f===s){var h=d.get(l);if(i(h))return h[w]||"";else if(d._nodeTypeIs(h,d.TEXT_NODE))return h.nodeValue;return s}else d.query(l).each(function(c){if(i(c))c[w]=f;else if(d._nodeTypeIs(c,d.TEXT_NODE))c.nodeValue=f})}});return d},{requires:["./base","ua"]});
KISSY.add("dom/base",function(n,d){function r(u,z){return u&&u.nodeType===z}var s={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(u){return r(u,s.ELEMENT_NODE)},_getWin:function(u){return u&&"scrollTo"in u&&u.document?u:r(u,s.DOCUMENT_NODE)?u.defaultView||u.parentWindow:u===d||u===null?window:false},
_nodeTypeIs:r,_isNodeList:function(u){return u&&!u.nodeType&&u.item&&!u.setTimeout}};return s});
KISSY.add("dom/class",function(n,d,r){function s(w,i,k,q){if(!(i=n.trim(i)))return q?false:r;w=d.query(w);var t=w.length,j=i.split(u);i=[];for(var m=0;m<j.length;m++){var o=n.trim(j[m]);o&&i.push(o)}for(m=0;m<t;m++){j=w[m];if(d._isElementNode(j)){j=k(j,i,i.length);if(j!==r)return j}}if(q)return false;return r}var u=/[\.\s]\s*\.?/,z=/[\n\t]/g;n.mix(d,{hasClass:function(w,i){return s(w,i,function(k,q,t){if(k=k.className){k=(" "+k+" ").replace(z," ");for(var j=0,m=true;j<t;j++)if(k.indexOf(" "+q[j]+
" ")<0){m=false;break}if(m)return true}},true)},addClass:function(w,i){s(w,i,function(k,q,t){var j=k.className;if(j){var m=(" "+j+" ").replace(z," ");j=j;for(var o=0;o<t;o++)if(m.indexOf(" "+q[o]+" ")<0)j+=" "+q[o];k.className=n.trim(j)}else k.className=i},r)},removeClass:function(w,i){s(w,i,function(k,q,t){var j=k.className;if(j)if(t){j=(" "+j+" ").replace(z," ");for(var m=0,o;m<t;m++)for(o=" "+q[m]+" ";j.indexOf(o)>=0;)j=j.replace(o," ");k.className=n.trim(j)}else k.className=""},r)},replaceClass:function(w,
i,k){d.removeClass(w,i);d.addClass(w,k)},toggleClass:function(w,i,k){var q=n.isBoolean(k),t;s(w,i,function(j,m,o){for(var v=0,x;v<o;v++){x=m[v];t=q?!k:d.hasClass(j,x);d[t?"removeClass":"addClass"](j,x)}},r)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(n,d,r,s){function u(a,b,g){if(b.nodeType==d.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;g=g.childNodes;for(var p=0;b[p];){g[p]&&u(a,b[p],g[p]);p++}}else if(b.nodeType==d.ELEMENT_NODE){b=b.getElementsByTagName("*");g=g.getElementsByTagName("*");for(p=0;b[p];){g[p]&&a(b[p],g[p]);p++}}}function z(a,b){var g=n.require("event");if(!(b.nodeType!==d.ELEMENT_NODE&&!d.hasData(a))){var p=d.data(a),y;for(y in p)d.data(b,y,p[y]);if(g){g._removeData(b);g._clone(a,b)}}}function w(a,b){b.clearAttributes&&
b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);var g=b.nodeName.toLowerCase();if(g==="object"&&!b.childNodes.length)n.each(a.childNodes,function(p){b.appendChild(p)});else if(g==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(g==="option")b.selected=a.defaultSelected;else if(g==="input"||g==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(d.__EXPANDO)}function i(a,b){if(n.isPlainObject(b))if(v(a))d.attr(a,
b,true);else a.nodeType==d.DOCUMENT_FRAGMENT_NODE&&n.each(a.childNodes,function(g){d.attr(g,b,true)});return a}function k(a,b){var g=null,p,y;if(a&&(a.push||a.item)&&a[0]){b=b||a[0].ownerDocument;g=b.createDocumentFragment();if(a.item)a=n.makeArray(a);p=0;for(y=a.length;p<y;p++)g.appendChild(a[p])}return g}function q(a,b){b=(b+"").replace(A,"");try{a.innerHTML=b}catch(g){for(;a.firstChild;)a.removeChild(a.firstChild);b&&a.appendChild(d.create(b))}}function t(a,b,g,p){if(g){var y=n.guid("ks-tmp-"),
G=RegExp(A);b+='<span id="'+y+'"></span>';n.available(y,function(){var H=d.get("head"),F,K,I,L,M,J;for(G.lastIndex=0;F=G.exec(b);)if((I=(K=F[1])?K.match(D):false)&&I[2]){F=j.createElement("script");F.src=I[2];if((L=K.match(l))&&L[2])F.charset=L[2];F.async=true;H.appendChild(F)}else if((J=F[2])&&J.length>0)n.globalEval(J);(M=j.getElementById(y))&&d.remove(M);n.isFunction(p)&&p()});q(a,b)}else{q(a,b);n.isFunction(p)&&p()}}var j=document,m=r.ie,o=d._nodeTypeIs,v=d._isElementNode,x=j.createElement("div"),
B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,E=/<(\w+)/,A=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,D=/\ssrc=(['"])(.*?)\1/i,l=/\scharset=(['"])(.*?)\1/i;n.mix(d,{create:function(a,b,g){if(o(a,d.ELEMENT_NODE)||o(a,d.TEXT_NODE))return d.clone(a);if(!(a=n.trim(a)))return null;var p=null,y=d._creators,G,H="div",F;if(G=C.exec(a))p=(g||j).createElement(G[1]);else{a=a.replace(B,"<$1></$2>");if((G=E.exec(a))&&(F=G[1]))H=F.toLowerCase();
a=(y[H]||y.div)(a,g).childNodes;if(a.length===1)p=a[0].parentNode.removeChild(a[0]);else if(a.length)p=k(a,g||j)}return i(p,b)},_creators:{div:function(a,b){var g=b?b.createElement("div"):x;g.innerHTML="m<div>"+a+"</div>";return g.lastChild}},html:function(a,b,g,p){if(b===s){a=d.get(a);if(v(a))return a.innerHTML}else d.query(a).each(function(y){v(y)&&t(y,b,g,p)})},remove:function(a,b){d.query(a).each(function(g){if(!b&&g.nodeType==d.ELEMENT_NODE){var p=n.require("event");if(p){p.detach(g.getElementsByTagName("*"));
p.detach(g)}d.removeData(g.getElementsByTagName("*"));d.removeData(g)}g.parentNode&&g.parentNode.removeChild(g)})},clone:function(a,b,g,p){a=d.get(a);if(!a)return null;var y=a.cloneNode(b);if(a.nodeType==d.ELEMENT_NODE||a.nodeType==d.DOCUMENT_FRAGMENT_NODE){a.nodeType==d.ELEMENT_NODE&&w(a,y);b&&u(w,a,y)}if(g){z(a,y);b&&p&&u(z,a,y)}return y},_nl2frag:k});if(m||r.gecko||r.webkit){var f=d._creators,h=d.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;r={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"};for(var e in r)(function(a){f[e]=function(b,g){return h("<"+a+">"+b+"</"+a+">",null,g)}})(r[e]);if(m<8)f.tbody=function(a,b){var g=h("<table>"+a+"</table>",null,b),p=g.children.tags("tbody")[0];g.children.length>1&&p&&!c.test(a)&&p.parentNode.removeChild(p);return g};n.mix(f,{optgroup:f.option,th:f.td,thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody})}return d},{requires:["./base","ua"]});
KISSY.add("dom/data",function(n,d,r){var s=window,u="_ks_data_"+n.now(),z={},w={},i={};i.applet=1;i.object=1;i.embed=1;var k={hasData:function(j,m){if(j)if(m!==r){if(m in j)return true}else if(!n.isEmptyObject(j))return true;return false}},q={hasData:function(j,m){if(j==s)return q.hasData(w,m);return k.hasData(j[u],m)},data:function(j,m,o){if(j==s)return q.data(w,m,o);var v=j[u];if(o!==r){v=j[u]=j[u]||{};v[m]=o}else if(m!==r)return v&&v[m];else return v=j[u]=j[u]||{}},removeData:function(j,m){if(j==
s)return q.removeData(w,m);var o=j[u];if(o)if(m!==r){delete o[m];n.isEmptyObject(o)&&q.removeData(j,r)}else delete j[u]}},t={hasData:function(j,m){var o=j[u];if(!o)return false;return k.hasData(z[o],m)},data:function(j,m,o){if(!i[j.nodeName.toLowerCase()]){var v=j[u];v||(v=j[u]=n.guid());j=z[v];if(o!==r){j=z[v]=z[v]||{};j[m]=o}else if(m!==r)return j&&j[m];else return j=z[v]=z[v]||{}}},removeData:function(j,m){var o=j[u];if(o){var v=z[o];if(v)if(m!==r){delete v[m];n.isEmptyObject(v)&&t.removeData(j,
r)}else{delete z[o];try{delete j[u]}catch(x){}j.removeAttribute&&j.removeAttribute(u)}}}};n.mix(d,{__EXPANDO:u,hasData:function(j,m){for(var o=false,v=d.query(j),x=0;x<v.length;x++)if(o=(o=v[x])&&o.nodeType?t.hasData(o,m):q.hasData(o,m))break;return o},data:function(j,m,o){if(n.isPlainObject(m))for(var v in m)d.data(j,v,m[v]);else if(o===r)if((j=d.get(j))&&j.nodeType)return t.data(j,m,o);else{if(j)return q.data(j,m,o)}else d.query(j).each(function(x){x&&x.nodeType?t.data(x,m,o):q.data(x,m,o)})},removeData:function(j,
m){d.query(j).each(function(o){o&&o.nodeType?t.removeData(o,m):q.removeData(o,m)})}});return d},{requires:["./base"]});
KISSY.add("dom/insertion",function(n,d){function r(w,i,k){w=d.query(w);i=d.query(i);if(w.length&&i.length){w=s(w);var q;if(i.length>1)q=d.clone(w,true);for(var t=0;t<i.length;t++){var j=i[t],m=t>0?d.clone(q,true):w;k(m,j)}}}var s=d._nl2frag;n.mix(d,{insertBefore:function(w,i){r(w,i,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q)})},insertAfter:function(w,i){r(w,i,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q.nextSibling)})},appendTo:function(w,i){r(w,i,function(k,q){q.appendChild(k)})},
prependTo:function(w,i){r(w,i,function(k,q){q.insertBefore(k,q.firstChild)})}});var u={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},z;for(z in u)d[z]=d[u[z]];return d},{requires:["./create"]});
KISSY.add("dom/offset",function(n,d,r,s){function u(f){var h,c=0;h=0;var e=i.body,a=m(f[B]);if(f[l]){h=f[l]();c=h[E];h=h[A];f=k&&i.documentMode!=9&&(o?q.clientTop:e.clientTop)||0;c-=k&&i.documentMode!=9&&(o?q.clientLeft:e.clientLeft)||0;h-=f;if(r.mobile=="apple"){c-=d[C](a);h-=d[D](a)}}return{left:c,top:h}}function z(f,h){var c={left:0,top:0},e=m(f[B]),a=f;h=h||e;do{var b;if(e==h){var g=a;b=u(g);g=m(g[B]);b.left+=d[C](g);b.top+=d[D](g);b=b}else b=u(a);b=b;c.left+=b.left;c.top+=b.top}while(e&&e!=h&&
(a=e.frameElement)&&(e=e.parent));return c}var w=window,i=document,k=r.ie,q=i.documentElement,t=d._isElementNode,j=d._nodeTypeIs,m=d._getWin,o=i.compatMode==="CSS1Compat",v=Math.max,x=parseInt,B="ownerDocument",E="left",A="top",C="scrollLeft",D="scrollTop",l="getBoundingClientRect";n.mix(d,{offset:function(f,h,c){if(h===s){f=d.get(f);var e;if(f)e=z(f,c);return e}d.query(f).each(function(a){if(d.css(a,"position")==="static")a.style.position="relative";var b=z(a),g={},p,y;for(y in h){p=x(d.css(a,y),
10)||0;g[y]=p+h[y]-b[y]}d.css(a,g)})},scrollIntoView:function(f,h,c,e){if(f=d.get(f)){e=e===s?true:!!e;c=c===s?true:!!c;if(!h||(h=d.get(h))===w)f.scrollIntoView(c);else{if(j(h,9))h=m(h);var a=!!m(h),b=d.offset(f),g=a?{left:d.scrollLeft(h),top:d.scrollTop(h)}:d.offset(h),p={left:b[E]-g[E],top:b[A]-g[A]};b=a?d.viewportHeight(h):h.clientHeight;g=a?d.viewportWidth(h):h.clientWidth;var y=d[C](h),G=d[D](h),H=y+g,F=G+b,K=f.offsetHeight;f=f.offsetWidth;var I=p.left+y-(a?0:x(d.css(h,"borderLeftWidth"))||0);
a=p.top+G-(a?0:x(d.css(h,"borderTopWidth"))||0);p=I+f;var L=a+K,M,J;if(K>b||a<G||c)M=a;else if(L>F)M=L-b;if(e)if(f>g||I<y||c)J=I;else if(p>H)J=p-g;d[D](h,M);d[C](h,J)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});n.each(["Left","Top"],function(f,h){var c="scroll"+f;d[c]=function(e,a){if(n.isNumber(e))return arguments.callee(w,e);e=d.get(e);var b,g=m(e);if(g)if(a!==s){var p=f=="Left"?a:d.scrollLeft(g),y=f=="Top"?a:d.scrollTop(g);g.scrollTo(p,y)}else{b=g.document;b=g[h?"pageYOffset":
"pageXOffset"]||b.documentElement[c]||b.body[c]}else if(t(e))if(a!==s)e[c]=a;else b=e[c];return b}});n.each(["Width","Height"],function(f){d["doc"+f]=function(h){h=d.get(h);h=m(h).document;return v(h.documentElement["scroll"+f],h.body["scroll"+f],d["viewport"+f](h))};d["viewport"+f]=function(h){h=d.get(h);var c="inner"+f;h=m(h);var e=h.document;return c in h?h[c]:o?e.documentElement["client"+f]:e.body["client"+f]}});return d},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(n,d,r){function s(c,e){var a=[],b;b=e===r?[t]:s(e,r);o(b,function(g){E.apply(a,u(c,g))});if(n.isString(c)&&c.indexOf(",")>-1||b.length>1)f(a);a.each=n.bind(o,r,a);return a}function u(c,e){var a=[];m("sizzle");if(C(c))c=n.trim(c);if(C(c)&&c.indexOf(",")>-1)a=z(c,e);else{if(C(c)&&!l.exec(String(c))){a=c;var b=[],g=m("sizzle");g&&g(a,e,b);a=b}else a=w(c,e);a=a}return a=a}function z(c,e){var a=[],b=c.split(",");o(b,function(g){E.apply(a,u(g,e))});return a}function w(c,
e){var a,b,g=[],p;if(C(c))if(D.test(c)){if(b=k(c.slice(1),e))g=[b]}else{if(a=l.exec(c)){b=a[1];p=a[2];a=a[3];if(e=b?k(b,e):e)if(a)if(!b||c.indexOf(A)!=-1)g=[].concat(h(a,p,e));else{if((b=k(b,e))&&d.hasClass(b,a))g=[b]}else if(p)g=q(p,e)}}else if(c&&(v(c)||B(c)))g=j(c,function(y){return i(y,e)});else if(c)if(i(c,e))g=[c];return g}function i(c,e){if(!c)return false;if(e==t)return true;return d.__contains(e,c)}function k(c,e){if(!e)return null;var a=e;if(e.nodeType!==9)a=e.ownerDocument;a=a.getElementById(c);
if(!i(a,e))return null;return a}function q(c,e){return e&&x(e.getElementsByTagName(c))||[]}var t=document,j=n.filter,m=n.require,o=n.each,v=n.isArray,x=n.makeArray,B=d._isNodeList,E=Array.prototype.push,A=" ",C=n.isString,D=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,f;(function(){var c,e,a=true;[0,0].sort(function(){a=false;return 0});f=function(b){if(c){e=a;b.sort(c);if(e)for(var g=1,p=b.length;g<p;)if(b[g]===b[g-1])b.splice(g,1);else g++}return b};c=t.documentElement.compareDocumentPosition?
function(b,g){if(b==g){e=true;return 0}if(!b.compareDocumentPosition||!g.compareDocumentPosition)return b.compareDocumentPosition?-1:1;return b.compareDocumentPosition(g)&4?-1:1}:function(b,g){if(b==g){e=true;return 0}else if(b.sourceIndex&&g.sourceIndex)return b.sourceIndex-g.sourceIndex}})();(function(){var c=t.createElement("div");c.appendChild(t.createComment(""));if(c.getElementsByTagName("*").length>0)q=function(e,a){var b=x(a.getElementsByTagName(e));if(e==="*"){for(var g=[],p=0,y;y=b[p++];)y.nodeType===
1&&g.push(y);b=g}return b}})();var h=t.getElementsByClassName?function(c,e,a){if(!a)return[];a=c=x(a.getElementsByClassName(c));var b=0,g=c.length,p;if(e&&e!=="*")for(a=x();b<g;++b){p=c[b];p.nodeName.toLowerCase()==e.toLowerCase()&&a.push(p)}return a}:t.querySelectorAll?function(c,e,a){return a&&x(a.querySelectorAll((e?e:"")+"."+c))||[]}:function(c,e,a){if(!a)return[];e=x(a.getElementsByTagName(e||"*"));a=[];for(var b=0,g=e.length,p;b<g;++b){p=e[b];d.hasClass(p,c)&&a.push(p)}return a};n.mix(d,{query:s,
get:function(c,e){return s(c,e)[0]||null},unique:f,filter:function(c,e,a){c=s(c,a);a=m("sizzle");var b,g,p,y=[];if(C(e)&&(b=l.exec(e))&&!b[1]){g=b[2];p=b[3];e=function(G){var H=true,F=true;if(g)H=G.nodeName.toLowerCase()==g.toLowerCase();if(p)F=d.hasClass(G,p);return F&&H}}if(n.isFunction(e))y=n.filter(c,e);else if(e&&a)y=a.matches(e,c);return y},test:function(c,e,a){c=s(c,a);return c.length&&d.filter(c,e,a).length===c.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(n,d,r,s){if(!r.ie)return d;var u=document,z=u.documentElement,w=s._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,k=/^-?\d/,q=/opacity=([^)]*)/,t=/alpha\([^)]*\)/i;try{if(n.isNullOrUndefined(z.style.opacity))w.opacity={get:function(o,v){return q.test((v&&o.currentStyle?o.currentStyle.filter:o.style.filter)||"")?parseFloat(RegExp.$1)/100+"":v?"1":""},set:function(o,v){v=parseFloat(v);var x=o.style,B=o.currentStyle,E=isNaN(v)?"":"alpha(opacity="+v*100+")",A=n.trim(B&&B.filter||
x.filter||"");x.zoom=1;if(v>=1&&n.trim(A.replace(t,""))===""){x.removeAttribute("filter");if(B&&!B.filter)return}x.filter=t.test(A)?A.replace(t,E):A+(A?", ":"")+E}}}catch(j){}r=r.ie==8;var m={};m.thin=r?"1px":"2px";m.medium=r?"3px":"4px";m.thick=r?"5px":"6px";n.each(["","Top","Left","Right","Bottom"],function(o){var v="border"+o+"Width",x="border"+o+"Style";w[v]={get:function(B,E){var A=E?B.currentStyle:0,C=A&&String(A[v])||undefined;if(C&&C.indexOf("px")<0)C=m[C]&&A[x]!=="none"?m[C]:0;return C}}});
if(!(u.defaultView||{}).getComputedStyle&&z.currentStyle)d._getComputedStyle=function(o,v){v=d._cssProps[v]||v;var x=o.currentStyle&&o.currentStyle[v];if(!i.test(x)&&k.test(x)){var B=o.style,E=B.left,A=o.runtimeStyle&&o.runtimeStyle.left;if(A)o.runtimeStyle.left=o.currentStyle.left;B.left=v==="fontSize"?"1em":x||0;x=B.pixelLeft+"px";B.left=E;if(A)o.runtimeStyle.left=A}return x===""?"auto":x};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(n,d,r,s){function u(c,e,a){var b={},g;for(g in e){b[g]=c[t][g];c[t][g]=e[g]}a.call(c);for(g in e)c[t][g]=b[g]}function z(c,e,a){var b;if(c.nodeType===3||c.nodeType===8||!(b=c[t]))return s;e=e.replace(x,B);var g,p=D[e];e=l[e]||e;if(a!==s){if(a===null||a===A)a=A;else if(!isNaN(Number(a))&&!v[e])a+=C;if(p&&p.set)a=p.set(c,a);if(a!==s)try{c[t][e]=a}catch(y){}return s}else{if(!(p&&"get"in p&&(g=p.get(c,false))!==s))g=b[e];return g===s?"":g}}function w(c,e){if(n.isWindow(c))return e==
j?d.viewportWidth(c):d.viewportHeight(c);else if(c.nodeType==9)return e==j?d.docWidth(c):d.docHeight(c);var a=e===j?c.offsetWidth:c.offsetHeight;n.each(e===j?["Left","Right"]:["Top","Bottom"],function(b){a-=parseFloat(d.css(c,"padding"+b))||0;a-=parseFloat(d.css(c,"border"+b+"Width"))||0});return a}var i=document,k=i.documentElement,q=r.ie,t="style",j="width",m=parseInt,o=/^-?\d+(?:px)?$/i,v={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/-([a-z])/ig,B=function(c,
e){return e.toUpperCase()},E=/([A-Z]|^ms)/g,A="",C="px",D={},l={},f={};if(k[t].cssFloat!==s)l["float"]="cssFloat";else if(k[t].styleFloat!==s)l["float"]="styleFloat";n.mix(d,{_CUSTOM_STYLES:D,_cssProps:l,_getComputedStyle:function(c,e){var a="",b={},g=c.ownerDocument;e=e.replace(E,"-$1").toLowerCase();if(b=g.defaultView.getComputedStyle(c,null))a=b.getPropertyValue(e)||b[e];if(a==""&&!d.__contains(g.documentElement,c)){e=l[e]||e;a=c[t][e]}return a},style:function(c,e,a){if(n.isPlainObject(e))for(var b in e)d.style(c,
b,e[b]);else if(a===s){c=d.get(c);b="";if(c)b=z(c,e,a);return b}else d.query(c).each(function(g){z(g,e,a)})},css:function(c,e,a){if(n.isPlainObject(e))for(var b in e)d.css(c,b,e[b]);else{e=e.replace(x,B);b=D[e];if(a===s){c=d.get(c);a="";if(c)if(!(b&&"get"in b&&(a=b.get(c,true))!==s))a=d._getComputedStyle(c,e);return a===s?"":a}else d.style(c,e,a)}},show:function(c){d.query(c).each(function(e){e[t].display=d.data(e,"display")||A;if(d.css(e,"display")==="none"){var a=e.tagName,b=f[a],g;if(!b){g=i.createElement(a);
i.body.appendChild(g);b=d.css(g,"display");d.remove(g);f[a]=b}d.data(e,"display",b);e[t].display=b}})},hide:function(c){d.query(c).each(function(e){var a=e[t],b=a.display;if(b!=="none"){b&&d.data(e,"display",b);a.display="none"}})},toggle:function(c){d.query(c).each(function(e){d.css(e,"display")==="none"?d.show(e):d.hide(e)})},addStyleSheet:function(c,e,a){if(n.isString(c)){a=e;e=c;c=window}c=d.get(c);c=d._getWin(c).document;var b;if(a&&(a=a.replace("#",A)))b=d.get("#"+a,c);if(!b){b=d.create("<style>",
{id:a},c);d.get("head",c).appendChild(b);if(b.styleSheet)b.styleSheet.cssText=e;else b.appendChild(c.createTextNode(e))}},unselectable:function(c){d.query(c).each(function(e){if(r.gecko)e[t].MozUserSelect="none";else if(r.webkit)e[t].KhtmlUserSelect="none";else if(r.ie||r.opera){var a=0,b=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=b[a++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable",
"on")}}})}});n.each([j,"height"],function(c){d[c]=function(e,a){var b=d.css(e,c,a);if(b)b=parseFloat(b);return b}});var h={position:"absolute",visibility:"hidden",display:"block"};n.each(["height","width"],function(c){D[c]={get:function(e,a){var b;if(a){if(e.offsetWidth!==0)b=w(e,c);else u(e,h,function(){b=w(e,c)});return b+"px"}},set:function(e,a){if(o.test(a)){a=parseFloat(a);if(a>=0)return a+"px"}else return a}}});n.each(["left","top"],function(c){D[c]={get:function(e,a){if(a){var b=d._getComputedStyle(e,
c);if(b==="auto"){b=0;if(n.inArray(d.css(e,"position"),["absolute","fixed"])){b=e[c==="left"?"offsetLeft":"offsetTop"];if(q&&document.documentMode!=9||r.opera)b-=e.offsetParent&&e.offsetParent["client"+(c=="left"?"Left":"Top")]||0;b=b-(m(d.css(e,"margin-"+c))||0)}b+="px"}return b}}}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(n,d,r){function s(i,k,q,t,j,m){if(!(i=d.get(i)))return null;if(k===0)return i;m||(i=i[q]);if(!i)return null;j=j&&d.get(j)||null;if(k===r)k=1;m=[];var o=n.isArray(k),v,x;if(n.isNumber(k)){v=0;x=k;k=function(){return++v===x}}for(;i&&i!=j;){if(w(i)&&u(i,k)&&(!t||t(i))){m.push(i);if(!o)break}i=i[q]}return o?m:m[0]||null}function u(i,k){if(!k)return true;if(n.isArray(k))for(var q=0;q<k.length;q++){if(d.test(i,k[q]))return true}else if(d.test(i,k))return true;return false}
function z(i,k,q){var t=[];var j=i=d.get(i);if(i&&q)j=i.parentNode;if(j){q=0;for(j=j.firstChild;j;j=j.nextSibling)if(w(j)&&j!==i&&(!k||d.test(j,k)))t[q++]=j}return t}var w=d._isElementNode;n.mix(d,{closest:function(i,k,q){return s(i,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},q,true)},parent:function(i,k,q){return s(i,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},q)},first:function(i,k){var q=d.get(i);return s(q&&q.firstChild,k,"nextSibling",r,
r,true)},last:function(i,k){var q=d.get(i);return s(q&&q.lastChild,k,"previousSibling",r,r,true)},next:function(i,k){return s(i,k,"nextSibling",r)},prev:function(i,k){return s(i,k,"previousSibling",r)},siblings:function(i,k){return z(i,k,true)},children:function(i,k){return z(i,k,r)},__contains:document.documentElement.contains?function(i,k){if(i.nodeType==d.TEXT_NODE)return false;var q;if(k.nodeType==d.TEXT_NODE){k=k.parentNode;q=true}else if(k.nodeType==d.DOCUMENT_NODE)return false;else q=i!==k;
return q&&(i.contains?i.contains(k):true)}:document.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&16)}:0,contains:function(i,k){i=d.get(i);k=d.get(k);if(i&&k)return d.__contains(i,k)},equals:function(i,k){i=d.query(i);k=d.query(k);if(i.length!=k.length)return false;for(var q=i.length;q>=0;q--)if(i[q]!=k[q])return false;return true}});return d},{requires:["./base"]});
KISSY.add("dom",function(n,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
