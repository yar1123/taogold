KISSY.add("taogold/dialog",function(d,k,i){function f(a){this._config=a||{};this._render()}var c=d.DOM,g=d.Event,j=document,h=new i;d.augment(f,d.EventTarget,{show:function(){var a=this;a._el.style.display="block";setTimeout(function(){a._setPosition()},0);h.show();a._visible=1;a.fire("show")},hide:function(){this._el.style.display="none";h.hide();this._visible=0;this.fire("hide")},refreshContent:function(a){this._bdEl.innerHTML="";this.appendContent(a)},appendContent:function(a){var b=this._bdEl,
e=b.innerHTML;if(d.isString(a))b.innerHTML=e+a;else b.appendChild(a)},_render:function(){var a=this,b=a._config;a._el=c.create('<div class="overlay box box-padding" style="display:none;position:absolute;width:'+(b.width||900)+'px;z-index:10000;"><div class="box-hd"><h3 class="box-title">'+(b.title||"\u5bee\u7470\u56ad\u705e\ufffd")+'</h3><div class="box-act"><a class="box-close" href="#">\u5173\u95ed</a></div></div><div class="box-bd"></div></div>');j.body.appendChild(a._el);a._titleEl=c.get(".box-title",a._el);a._closeEl=c.get(".box-close",
a._el);g.on(a._closeEl,"click",function(e){e.preventDefault();a.hide()});a._bdEl=c.get(".box-bd",a._el);g.on(window,"resize",function(){a._setPosition()})},_setPosition:function(){var a=(c.viewportWidth()-this._el.offsetWidth)/2,b=c.scrollTop()+(c.viewportHeight()-this._el.offsetHeight)/2;this._el.style.left=(a>0?a:0)+"px";this._el.style.top=(b>0?b:0)+"px"}});return f},{requires:["overlay","taogold/mask"]});
